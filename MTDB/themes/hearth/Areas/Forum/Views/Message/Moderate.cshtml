@model mvcForum.Web.ViewModels.Update.UpdateMessageViewModel
@using mvcForum.Web.Helpers;
@{
    ViewBag.Title = ForumHelper.GetString("EditMessage.Title", new { Subject = Model.Subject });
    Layout = Url.GetThemeBaseUrl() + "areas/forum/views/shared/_ForumLayout.cshtml";
}
@section complementary{
    @Html.Partial("Breadcrumb", Model.Path)
}
@section bread {
    @Html.Partial("Breadcrumb", Model.Path)
}

@section forumHeader {
    <h2>@ForumHelper.GetString("EditMessage.EditMessage") <span class="header-link"> - @Html.RouteLink(Model.Subject, "ShowTopic", new RouteValueDictionary { { "id", Model.TopicId }, { "title", Model.TopicTitle.ToSlug() } })</span></h2>
}
<div class="j-comment-form-container p-attachmentable-form">
    @using (Html.BeginForm())
    {
        @Html.HiddenFor(x => x.Id)
        @Html.HiddenFor(x => x.Subject)
        @Html.ValidationSummary()

        <div class="form-field form-field-text-area-field ">
            <label for="Flag">
                <span title="" class="">
                    Flag
                </span>
            </label>
            @Html.DropDownListFor(x => x.Flag, ForumHelper.GetPostFlags(Model.Flag))
        </div>

        <div class="form-field form-field-text-area-field ">
            <label for="Reason">
                <span title="" class="">
                    Edit/Delete Reason
                </span>
            </label>
            @Html.TextAreaFor(x => x.Reason, new { rows = 5, cols = 76 })
        </div>

        <div class="form-field form-field-text-area-field ">
            <label for="Body">
                <span title="" class="">
                    Content
                </span>
            </label>
            @Html.Partial(ForumHelper.GetEditorString() + "Editor", String.IsNullOrEmpty(Model.Body) ? "" : Model.Body)
        </div>

        <div class="form-actions form-footer">
            <div class="form-button-block">
                <input type="submit" accesskey="s" tabindex="6" name="post" value="@ForumHelper.GetString("EditMessage.Submit")" class="u-button u-button-primary button"/>
            </div>
        </div>
    }
</div>