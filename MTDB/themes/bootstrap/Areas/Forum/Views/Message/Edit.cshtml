@model mvcForum.Web.ViewModels.Update.UpdateMessageViewModel
@using mvcForum.Web.Helpers;
@{
	ViewBag.Title = ForumHelper.GetString("EditMessage.Title", new { Subject = Model.Subject });

	Layout = Url.GetThemeBaseUrl() + "areas/forum/views/shared/forumlayout.cshtml";
}
@Html.Partial("Breadcrumb", Model.Path)

	<h2>@Model.Subject</h2>

	<div class="row">
		<div class="col-md-12">
			@using (Html.BeginForm("edit", "message", FormMethod.Post, new { @class = "form-horizontal" })) {
				@Html.HiddenFor(x => x.Id)
				@Html.ValidationSummary()
				<h3>@ForumHelper.GetString("EditMessage.EditMessage")</h3>
				<div class="form-group">
					@Html.LabelFor(t => t.Subject, new { @class = "col-lg-2 control-label" })
					<div class="col-lg-10">
						@Html.TextBoxFor(x => x.Subject, new { @class = "form-control" })
					</div>
				</div>
				<div class="form-group">
					<label for="editor" class="col-lg-2 control-label">@ForumHelper.GetString("EditMessage.Message", null, "mvcForum.Web")</label>
					<div class="col-lg-10">
						@Html.Partial(ForumHelper.GetEditorString() + "Editor", String.IsNullOrEmpty(Model.Body) ? "" : Model.Body)
					</div>
				</div>
				<div class="form-group">
					<div class="col-lg-offset-2 col-lg-10">
						<button type="submit" class="btn btn-primary">@ForumHelper.GetString("EditMessage.Submit")</button>
					</div>
				</div>
			}
		</div>
	</div>
@if (ForumHelper.Debug) {
<!-- For Selenium Test -->
<div id="forum_message_edit" style="display: none;"></div>
}

@section scripts {
	@Html.Partial(ForumHelper.GetEditorString() + "Scripts", String.IsNullOrEmpty(Model.Body) ? "" : Model.Body)
}
@section styles {
	@Html.Partial(ForumHelper.GetEditorString() + "Styles", String.IsNullOrEmpty(Model.Body) ? "" : Model.Body)
}